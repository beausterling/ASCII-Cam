---
phase: 01-foundation-project-setup
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - package.json
  - .eslintrc.json
  - .prettierrc
  - js/main.js
  - js/config.js
  - js/renderer.js
  - js/analyzer.js
  - css/style.css
  - index.html
autonomous: false

must_haves:
  truths:
    - "ESLint runs without errors on all JS files"
    - "Prettier formats all project files consistently with 2-space indent and 80 char width"
    - "Site loads in browser with figlet logo displayed and no console errors"
    - "GitHub Pages deployment would work (all files present, .nojekyll exists)"
  artifacts:
    - path: "package.json"
      provides: "Dev scripts for lint, format, and local server"
      contains: "eslint"
    - path: ".eslintrc.json"
      provides: "ESLint configuration with browser globals and Prettier integration"
      contains: "prettier"
    - path: ".prettierrc"
      provides: "Prettier configuration with 2-space indent and 80 char width"
      contains: "printWidth"
  key_links:
    - from: "package.json"
      to: ".eslintrc.json"
      via: "eslint devDependency"
      pattern: "eslint"
    - from: ".eslintrc.json"
      to: ".prettierrc"
      via: "eslint-config-prettier extends"
      pattern: "prettier"
---

<objective>
Set up development tooling (ESLint, Prettier, package.json) and verify the complete project works as a static site with no errors.

Purpose: Establish code quality tooling per user requirements (ESLint + Prettier with 2-space indent, 80 char lines) and validate the foundation is deployment-ready.
Output: Configured dev tooling, all files linted and formatted, verified working site.
</objective>

<execution_context>
@/Users/beausterling/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beausterling/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-project-setup/01-CONTEXT.md
@.planning/phases/01-foundation-project-setup/01-RESEARCH.md
@.planning/phases/01-foundation-project-setup/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Set up package.json, ESLint, and Prettier</name>
  <files>
    package.json
    .eslintrc.json
    .prettierrc
  </files>
  <action>
**package.json:**
Create minimal package.json for dev tooling only (no runtime dependencies):
```json
{
  "name": "ascii-cam",
  "version": "1.0.0",
  "description": "Real-time ASCII art webcam filter",
  "type": "module",
  "scripts": {
    "dev": "python3 -m http.server 8000",
    "lint": "eslint js/**/*.js",
    "lint:fix": "eslint js/**/*.js --fix",
    "format": "prettier --write \"**/*.{js,css,html,md}\"",
    "format:check": "prettier --check \"**/*.{js,css,html,md}\""
  },
  "devDependencies": {},
  "private": true
}
```

Then run `npm install --save-dev eslint prettier eslint-config-prettier` to install dev dependencies. This populates devDependencies and creates node_modules/ (which is gitignored).

**.eslintrc.json:**
```json
{
  "env": {
    "browser": true,
    "es2021": true
  },
  "extends": ["eslint:recommended", "prettier"],
  "parserOptions": {
    "ecmaVersion": "latest",
    "sourceType": "module"
  },
  "rules": {
    "indent": ["error", 2],
    "max-len": "off",
    "no-console": "off",
    "no-unused-vars": ["warn", { "argsIgnorePattern": "^_" }]
  },
  "globals": {
    "p5": "readonly",
    "figlet": "readonly"
  }
}
```

Key decisions:
- `"prettier"` in extends array disables ESLint formatting rules that conflict with Prettier
- `p5` and `figlet` as readonly globals (loaded via CDN `<script>` tags, not imported)
- `no-console: "off"` because console.log is used intentionally for debugging
- `no-unused-vars: "warn"` with underscore ignore pattern for callback parameters

**.prettierrc:**
```json
{
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "semi": true,
  "singleQuote": true,
  "trailingComma": "es5",
  "bracketSpacing": true,
  "arrowParens": "always"
}
```

Per user decision: 2-space indent, 80 character line length.

After creating configs, run:
1. `npm run format` to format all project files with Prettier
2. `npm run lint` to verify ESLint passes on all JS files
3. Fix any lint errors that arise (likely minor formatting adjustments)

Note: `npm run format` will modify js/*.js, css/style.css, index.html, and README.md to match Prettier config. This is expected and desired.
  </action>
  <verify>
```bash
# Verify config files exist
test -f package.json && test -f .eslintrc.json && test -f .prettierrc && echo "All configs exist"

# Verify dependencies installed
test -d node_modules/eslint && test -d node_modules/prettier && echo "Dependencies installed"

# Verify lint passes
npm run lint 2>&1 | tail -5

# Verify format check passes
npm run format:check 2>&1 | tail -5

# Verify node_modules is gitignored
grep "node_modules" .gitignore
```
  </verify>
  <done>
- package.json exists with dev scripts (dev, lint, lint:fix, format, format:check)
- ESLint and Prettier installed as devDependencies
- .eslintrc.json configured with browser env, ES modules, Prettier integration, p5/figlet globals
- .prettierrc configured with 2-space indent, 80 char width
- `npm run lint` passes with no errors
- `npm run format:check` passes (all files formatted)
- node_modules/ exists but is gitignored
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify site loads correctly in browser</name>
  <files>index.html</files>
  <action>
**What was built:** Complete project foundation -- dark-themed static site with figlet ASCII logo, ES module architecture (4 modules), ESLint/Prettier dev tooling, GitHub Pages support files, and README documentation.

**How to verify:**

1. From the project root, start the dev server:
   ```
   npm run dev
   ```
   (or `python3 -m http.server 8000`)

2. Open http://localhost:8000 in your browser

3. Verify you see:
   - Dark background (black or very dark)
   - "ASCII CAM" displayed in large figlet block letters, centered
   - Logo text is white/light gray (NOT green)
   - No other content -- just the logo on dark background

4. Open browser DevTools console (Cmd+Option+J on Mac) and verify:
   - No red error messages (especially no CORS or module import errors)
   - You should see an initialization log message like "ASCII Cam initialized"

5. (Optional) Verify lint/format:
   ```
   npm run lint
   npm run format:check
   ```
   Both should pass with no errors.

**Resume signal:** Type "approved" if site loads correctly with logo and no errors, or describe any issues you see.
  </action>
  <verify>User visually confirms dark page with figlet logo and no browser console errors.</verify>
  <done>User has approved that the site loads correctly with ASCII CAM figlet logo on dark background, no console errors, and working ES module imports.</done>
</task>

</tasks>

<verification>
1. `npm run lint` exits with code 0 (no errors)
2. `npm run format:check` exits with code 0 (all files formatted)
3. Site loads at http://localhost:8000 showing dark page with ASCII logo
4. Browser console shows no errors
5. All project files present and correctly structured
</verification>

<success_criteria>
- Dev tooling configured and passing (ESLint + Prettier)
- Site loads in browser with figlet ASCII logo on dark background
- No console errors (ES modules load correctly)
- Project is deployment-ready for GitHub Pages (all files present, .nojekyll exists)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-project-setup/01-02-SUMMARY.md`
</output>
